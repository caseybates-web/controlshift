<UserControl
    x:Class="ControlShift.App.Controls.SlotCard"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Tapped="SlotCard_Tapped">

    <!-- Margin="4" gives the Composition scale-swell 4px clearance on all sides
         so the 1.03 scale does not clip against the parent panel's layout bounds. -->
    <Border x:Name="CardBorder"
            Background="#222222"
            BorderBrush="#303030"
            BorderThickness="1" CornerRadius="12"
            Padding="16,14" MinHeight="80"
            Margin="4">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!-- Player index badge (P1–P4) -->
            <Border x:Name="PlayerBadgeBorder" Grid.Column="0"
                    Background="#555555"
                    CornerRadius="8" Padding="10,5"
                    VerticalAlignment="Center" Margin="0,0,14,0">
                <TextBlock x:Name="SlotBadge" Text="P1"
                           FontFamily="Segoe UI" FontSize="14" FontWeight="Bold"
                           Foreground="{StaticResource XbTextBrush}" />
            </Border>

            <!-- Connected device info — visible only when slot is occupied -->
            <StackPanel x:Name="ConnectedContent" Grid.Column="1"
                        VerticalAlignment="Center" Spacing="3"
                        Visibility="Collapsed">

                <!-- Controller name -->
                <TextBlock x:Name="DeviceName" Text=""
                           FontFamily="Segoe UI" FontSize="15" FontWeight="Bold"
                           Foreground="{StaticResource XbTextBrush}"
                           TextTrimming="CharacterEllipsis" />

                <!-- Connection type: plain small text below name -->
                <TextBlock x:Name="ConnectionText" Text=""
                           FontFamily="Segoe UI" FontSize="11"
                           Foreground="#ABABAB" />

                <!-- Badges + VID:PID row -->
                <StackPanel Orientation="Horizontal" Spacing="6" Margin="0,2,0,0">

                    <Border x:Name="IntegratedBadge"
                            Background="#1D4B1D" CornerRadius="8"
                            Padding="8,2" Visibility="Collapsed">
                        <TextBlock Text="INTEGRATED"
                                   FontFamily="Segoe UI" FontSize="10" FontWeight="SemiBold"
                                   Foreground="{StaticResource XbAccentBrush}" />
                    </Border>

                    <Border x:Name="BrandBadge"
                            Background="#3A3A3A" CornerRadius="8"
                            Padding="8,2" Visibility="Collapsed">
                        <TextBlock x:Name="BrandText" Text=""
                                   FontFamily="Segoe UI" FontSize="10" FontWeight="SemiBold"
                                   Foreground="#ABABAB" />
                    </Border>

                    <TextBlock x:Name="VidPidText" Text=""
                               FontFamily="Cascadia Mono,Consolas,Courier New" FontSize="10"
                               Foreground="#666666" VerticalAlignment="Center"
                               Visibility="Collapsed" />

                </StackPanel>
            </StackPanel>

            <!-- Empty slot placeholder — dash centered in the info column -->
            <TextBlock x:Name="EmptyDash" Grid.Column="1"
                       Text="—" VerticalAlignment="Center"
                       FontFamily="Segoe UI" FontSize="20"
                       Foreground="#444444" />

            <!-- Battery indicator -->
            <StackPanel x:Name="BatterySection" Grid.Column="2"
                        Orientation="Horizontal" VerticalAlignment="Center"
                        Spacing="4" Visibility="Collapsed">
                <TextBlock x:Name="BatteryIcon" Text=""
                           FontFamily="Segoe MDL2 Assets" FontSize="14"
                           Foreground="#ABABAB" />
                <TextBlock x:Name="BatteryText" Text=""
                           FontFamily="Segoe UI" FontSize="11"
                           Foreground="#ABABAB" />
            </StackPanel>

        </Grid>
    </Border>
</UserControl>
